name: web_application
components:
  frontend:
    type: service
    flavours:
      large:
        uses:  [ backend ] 
      medium:
        uses:  [ backend ]
  backend:
    type: service
    flavours:
      large:
        uses:  [ database ] 
      medium:
        uses:  [ database ] 
      tiny:
        uses:  [ ]
  database:
    type: database
    flavours:
      large:
        uses:  [ ]
requirements:
  components:
    frontend:
      common:
        bwIn:
          value: 1000
        bwOut:
          value: 1000
        availability:
          value: 0.98
          soft: true
        security:
          value: [ssl, firewall]
      flavour-specific:
        large:
          cpu:
            value: 2
            soft: true
          ram:
            value: 1
        medium:
          cpu:
            value: 1
            soft: true
          ram:
            value: 0.5
    backend:
      common:
        bwIn:
          value: 1000
        bwOut:
          value: 600
        availability:
          value: 0.98
          soft: true
        security:
          value: [ssl]
      flavour-specific:
        large:
          cpu:
            value: 4
            soft: true
          ram:
            value: 8
        medium:
          cpu:
            value: 2
            soft: true
          ram:
            value: 4
        tiny:
          cpu:
            value: 1
            soft: true
          ram:
            value: 2
    database:
      common:
        bwIn:
          value: 200
        bwOut:
          value: 200
        availability:
          value: 0.99
          soft: true
        cpu:
          value: 1
          soft: true
        ram:
          value: 8
          soft: true
        storage:
          value: 512
          soft: true
        security:
          value: [ssl, encrypted_storage]
  dependencies:
    frontend:
      backend:
        latency:
          value: 50
    backend:
      database:
        latency:
          value: 50
        availability:
          value: 0.98
  budget:
    cost: 50000
    carbon: 500
    
